import{Q as L}from"./QToolbarTitle.440d1fa8.js";import{Q as W}from"./QSpace.dfa275fa.js";import{Q as q}from"./QToolbar.f296e630.js";import{Q as _}from"./QSkeleton.fe02f028.js";import{Q as J}from"./QResponsive.78e99726.js";import{J as g,D as E,b1 as H,b2 as G,P as K,g as $,_ as X,h as Y,j as Z,a1 as A,aU as I,o as m,l as w,m as c,n as i,w as p,k as u,F as D,q as P,e as b,t as F,x,s as R,ai as C,I as Q,aJ as S,ah as O,A as ee,R as j}from"./index.b340747c.js";import{Q as te}from"./QPullToRefresh.dec1c06c.js";import"./dayjs.937bb0b8.js";import{B as ne}from"./index.a60c2c0b.js";import{Q as M,f as T}from"./forceHttp2.94a52bc8.js";import{Q as se}from"./QInfiniteScroll.323eba28.js";import{u as re}from"./useAliveScrollBehavior.af4f2067.js";import"./touch.9d375472.js";import"./selection.b3caa21c.js";const ie=[g("circle",{cx:"15",cy:"15",r:"15"},[g("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})]),g("circle",{cx:"60",cy:"15",r:"9","fill-opacity":".3"},[g("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:".5",to:".5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})]),g("circle",{cx:"105",cy:"15",r:"15"},[g("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),g("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})])];var ae=E({name:"QSpinnerDots",props:H,setup(e){const{cSize:n,classes:f}=G(e);return()=>g("svg",{class:f.value,fill:"currentColor",width:n.value,height:n.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg"},ie)}});function le(e){return typeof e=="object"&&e!==null}function oe(e){return le(e)&&typeof e.length=="number"}function B(e){return Array.isArray(e)?e:e===void 0?[]:oe(e)||e instanceof Set?Array.from(e):[e]}function ce(e){return!isNaN(parseFloat(e))&&isFinite(e)}function ue(e){return e!==null&&typeof e=="object"&&e.constructor===Object}function fe(e){return U(e)&&typeof e.length=="number"}function U(e){return typeof e=="object"&&e!==null}function k(e){return typeof e!="undefined"}function de(e){return!k(e)}function z(e){return e===null}function me(e){return k(e)&&!z(e)&&!Number.isNaN(e)}function pe(e){return typeof e=="function"?/^class /.test(Function.prototype.toString.call(e)):!1}function he(e){if(e===null)return!0;switch(typeof e){case"string":case"number":case"symbol":case"undefined":case"boolean":return!0;default:return!1}}function ge(e){if(e){const n=k(Promise)&&e instanceof Promise,f=e.then&&typeof e.then=="function";return!!(n||f)}else return!1}function ye(e){return e===null||!k(e)?!1:typeof e[Symbol.iterator]=="function"||typeof e[Symbol.asyncIterator]=="function"}function ve(e){return typeof e=="string"}function _e(e){return typeof e=="function"}var l={isNumber:ce,isPlainObject:ue,isArrayLike:fe,isObject:U,isDefined:k,isUndefined:de,isNull:z,isDefinedValue:me,isClass:pe,isPrimitive:he,isPromise:ge,isIterable:ye,isString:ve,isFunction:_e};function we(e,n={}){return n=Object.assign({computed:{},customOrders:{},nullRank:1,undefinedRank:1},n),e.sort(be(n)),e}function be(e={}){const n=B(e.by),f=B(e.order),{customOrders:s,computed:h}=e;return function N(y,v,a=0){const r=f[a]||"asc";if(!(r==="asc"||r==="desc"||s[r]))return 0;let t,o,d;return n.length?(o=l.isDefined(y[n[a]])?y[n[a]]:h[n[a]]&&h[n[a]](y),d=l.isDefined(v[n[a]])?v[n[a]]:h[n[a]]&&h[n[a]](v)):(o=y,d=v),s&&s[r]?t=s[r].indexOf(o)-s[r].indexOf(d):o===d?t=0:l.isNull(o)&&l.isUndefined(d)?t=r==="asc"?1:r==="desc"?-1:0:l.isUndefined(o)&&l.isNull(d)?t=r==="asc"?-1:r==="desc"?1:0:l.isNull(o)&&l.isDefinedValue(d)?t=e.nullRank:l.isUndefined(o)&&l.isDefinedValue(d)?t=e.undefinedRank:l.isNull(d)&&l.isDefinedValue(o)?t=-e.nullRank:l.isUndefined(d)&&l.isDefinedValue(o)?t=-e.undefinedRank:(t=o<d?-1:o>d?1:0,r==="desc"&&(t=t*-1)),t===0&&l.isDefined(n[a+1])&&(t=N(y,v,a+1)),t}}function xe(){return new Worker("assets/Mgn.dab1161c.js",{type:"module"})}async function ke(e){const{data:n}=await $(`https://mgn.vn/anime/p${e}`);return n}async function Ne(e){const{data:{data:n}}=await $(`https://tinanime.com/api/news/?p=${e}`),f={icon:"https://tinanime.com/logos/114x114.png",name:"TinAnime"};return n.map(s=>({image:s.thumbnail,href:`https://tinanime.com/${s.slug}`,title:s.title,time:new Date(s.published_at).getTime(),intro:s.description,by:f}))}async function V(e){const[n,f]=await Promise.all([ke(e).then(s=>K(xe,s)),Ne(e).catch(()=>[])]);return we([...n,...f],{by:"time",order:"desc"})}const Ce={class:"fixed z-1000 bg-dark-page w-full"},Qe={class:"rounded-[30px] border border-gray-500 inline-flex items-center justify-center overflow-hidden"},Se={key:0,class:"absolute fit overflow-hidden pt-[50px]"},De={class:"content"},Re={class:"text-h6 leading-snug !font-normal"},je={class:"text-grey mt-1 line-clamp-3 des"},Ae={class:"text-caption text-grey flex items-center"},Pe={class:"content"},Fe={class:"text-h6 leading-snug !font-normal"},Oe={class:"text-grey mt-1 line-clamp-3 des"},Me={class:"text-caption text-grey"},Te={class:"row justify-center q-my-md"},Be=Y({__name:"news",setup(e){re();const{t:n}=Z(),f=A(),s=A(1),h=I([]);async function N(a){var t;const r=await V(1);h.splice(0),h.push(...r),a(),(t=f.value)==null||t.reset()}N(()=>{});async function y(a,r){const t=await V(a);h.push(...t),r(t.length===0)}function v(a,r){ne.open({url:a,windowName:r})}return(a,r)=>(m(),w(D,null,[c("header",Ce,[i(q,null,{default:p(()=>[i(L,{class:"text-center absolute w-full"},{default:p(()=>[F(x(u(n)("tin-tuc")),1)]),_:1}),i(W),c("div",Qe,[R((m(),w("div",{class:C(["w-1/2 pl-3 pr-1 py-1 relative",{"bg-light-300 text-dark":s.value===1}]),onClick:r[0]||(r[0]=t=>s.value=1)},[s.value===1?(m(),b(u(Q),{key:0,icon:"fluent:grid-24-filled",width:"20",height:"20"})):(m(),b(u(Q),{key:1,icon:"fluent:grid-24-regular",width:"20",height:"20"}))],2)),[[j]]),R((m(),w("div",{class:C(["w-1/2 pr-3 pl-1 py-1 relative",{"bg-light-300 text-dark":s.value===2}]),onClick:r[1]||(r[1]=t=>s.value=2)},[s.value===2?(m(),b(u(Q),{key:0,icon:"fluent:apps-list-detail-24-filled",width:"20",height:"20"})):(m(),b(u(Q),{key:1,icon:"fluent:apps-list-detail-24-regular",width:"20",height:"20"}))],2)),[[j]])])]),_:1})]),u(h).length===0?(m(),w("div",Se,[(m(),w(D,null,P(12,t=>i(O,{key:t,class:C(["mx-3 mt-5 rounded-xl overflow-hidden",{"news-item":s.value===2}])},{default:p(()=>[c("div",null,[i(J,{ratio:369/194},{default:p(()=>[i(_,{class:"absolute w-full h-full image",square:""})]),_:1})]),c("div",De,[i(S,null,{default:p(()=>[c("div",Re,[i(_,{type:"text",width:"40%"})]),c("div",je,[i(_,{type:"text",width:"100%"}),i(_,{type:"text",width:"60%"})])]),_:1}),i(S,{class:"pt-0"},{default:p(()=>[c("span",Ae,[i(_,{type:"rect",width:"20px",height:"20px",class:"inline-block mr-[5px]"}),i(_,{type:"text",width:"4em"}),i(_,{type:"text",width:"6em"})])]),_:1})])]),_:2},1032,["class"])),64))])):(m(),b(te,{key:1,onRefresh:N},{default:p(()=>[i(u(se),{ref_key:"infiniteScrollRef",ref:f,onLoad:y,offset:250,class:"pt-[50px]"},{loading:p(()=>[c("div",Te,[i(ae,{color:"primary",size:"40px"})])]),default:p(()=>[(m(!0),w(D,null,P(u(h),t=>R((m(),b(O,{key:t.title,class:C(["relative mx-3 mt-5 rounded-xl overflow-hidden",{"news-item":s.value===2}]),onClick:o=>v(t.href,t.title)},{default:p(()=>[c("div",null,[i(u(M),{"no-spinner":"",src:u(T)(t.image),referrerpolicy:"no-referrer",class:"image"},null,8,["src"])]),c("div",Pe,[i(S,null,{default:p(()=>[c("div",Fe,x(t.title),1),c("div",Oe,x(t.intro),1)]),_:2},1024),i(S,{class:"pt-0"},{default:p(()=>[c("span",Me,[i(u(M),{src:u(T)(t.by.icon),referrerpolicy:"no-referrer",width:"18px",height:"18px",class:"inline-block mr-[5px]"},null,8,["src"]),F(x(t.by.name)+" \u2022 "+x(u(ee)(t.time).locale("vi").fromNow()),1)])]),_:2},1024)])]),_:2},1032,["class","onClick"])),[[j]])),128))]),_:1},512)]),_:1}))],64))}});var Ze=X(Be,[["__scopeId","data-v-a180aea2"]]);export{Ze as default};
