import{h as b,i as R,j as B,a1 as C,o,l as p,m as u,n as a,w as r,k as e,e as n,F as d,ap as I,aI as P,I as N,t as $,x as j,a6 as F}from"./index.b340747c.js";import{Q as V}from"./QToolbarTitle.440d1fa8.js";import{Q as q}from"./QToolbar.f296e630.js";import{Q as z}from"./QPullToRefresh.dec1c06c.js";import{_ as A,a as D}from"./SkeletonGridCard.a0609b5c.js";import{_ as E}from"./ScreenError.29d1ac58.js";import{S as L}from"./ScreenNotFound.3391fb98.js";import{Q as M}from"./QInfiniteScroll.323eba28.js";import{T as _}from"./tu-phim.fc86dc67.js";import{u as O}from"./index.es.9bf2f817.js";import"./touch.9d375472.js";import"./selection.b3caa21c.js";import"./SkeletonCard.3d677a39.js";import"./forceHttp2.94a52bc8.js";import"./ranks.6b7a2e33.js";import"./QSkeleton.fe02f028.js";import"./index.a60c2c0b.js";import"./_value_.7e1d0da8.js";const G={class:"fixed w-full top-0 left-0 z-200 bg-dark-page"},H={class:"row justify-center q-my-md"},pe=b({__name:"follow",setup(J){const x=R(),{t:h}=B(),m=C(),{data:s,loading:k,run:y,refreshAsync:g,error:Q}=O(()=>_(1)),w=i=>g().then(()=>{var t;return(t=m.value)==null?void 0:t.reset()}).then(i);let v=2;async function S(i,t){var f;const{curPage:l,maxPage:c,items:T}=await _(v++);s.value=Object.assign((f=s.value)!=null?f:{},{items:[...s.value.items,...T],curPage:l,maxPage:c}),t(l===c)}return(i,t)=>(o(),p(d,null,[u("header",G,[a(q,{class:"relative"},{default:r(()=>[a(I,{flat:"",dense:"",round:"",class:"mr-2",onClick:t[0]||(t[0]=P(l=>e(x).back(),["stop"]))},{default:r(()=>[a(e(N),{icon:"fluent:chevron-left-24-regular",width:"25",height:"25"})]),_:1}),a(V,{class:"absolute left-[50%] top-[50%] transform translate-x-[-50%] translate-y-[-50%] text-[16px] max-w-[calc(100%-34px*2)] line-clamp-1"},{default:r(()=>[$(j(e(h)("anime-da-theo-doi")),1)]),_:1})]),_:1})]),e(k)?(o(),n(A,{key:0,count:12,class:"pt-[47px] px-4"})):e(s)?(o(),p(d,{key:1},[e(s).items.length===0?(o(),n(L,{key:0,class:"pt-[47px]"})):(o(),n(z,{key:1,onRefresh:w,class:"pt-[47px]"},{default:r(()=>[a(e(M),{onLoad:S,offset:250,ref_key:"infiniteScrollRef",ref:m},{loading:r(()=>[u("div",H,[a(F,{class:"c--main",size:"40px"})])]),default:r(()=>[a(D,{items:e(s).items},null,8,["items"])]),_:1},512)]),_:1}))],64)):(o(),n(E,{key:2,"onClick:retry":e(y),class:"pt-[47px]",error:e(Q)},null,8,["onClick:retry","error"]))],64))}});export{pe as default};
